(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Bbyd:function(e,t,n){"use strict";var r=n("vDqi"),o=n.n(r);t.a={addOwnTransaction:function(e){return o.a.post("transactions/credit",e)},getOwnTransactionLogs:function(){return o.a.get("transactions/credit/logs")},addBeneficiaryTransaction:function(e){return o.a.post("transactions/beneficiary",e)},getBeneficiaryTransactionLogs:function(){return o.a.get("transactions/debit/logs")}}},EwQA:function(e,t,n){var r=n("zZ0H");e.exports=function(e){return"function"==typeof e?e:r}},bNQv:function(e,t,n){var r=n("gFfm"),o=n("SKAX"),a=n("EwQA"),s=n("Z0cm");e.exports=function(e,t){return(s(e)?r:o)(e,a(t))}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},sWoO:function(e,t,n){"use strict";n.r(t);var r=n("L2JU"),o=n("Bbyd"),a=n("pNfh"),s=n("xkGU"),c=n.n(s);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={name:"OwnDepositForm",components:{transactions:o.a,CardComponent:a.a},data:function(){return{isFileUploaded:!1,isLoading:!1,errors:{},form:this.getClearFormObject(),readonly:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({formAccountNumberType:function(){return this.errors.account_number?"is-danger":null},formAccountNumberMessage:function(){return this.errors.account_number?this.errors.account_number[0]:"Required. Your account number"},formAmountType:function(){return this.errors.amount?"is-danger":null},formAmountMessage:function(){return this.errors.email?this.errors.amount[0]:"Required. Deposit amount"},formCommentType:function(){return this.errors.debtor_comment?"is-danger":null},formCommentMessage:function(){return this.errors.debtor_comment?this.errors.debtor_comment[0]:"Required. Your comment"}},Object(r.b)(["userId","userAccount"])),mounted:function(){this.form.account_number=this.userAccount,this.form.user_id=this.userId},methods:{getClearFormObject:function(){return{user_id:this.userId,account_number:this.userAccount,amount:null,debtor_comment:null}},submit:function(){var e=this;this.isLoading=!0,this.errors={},o.a.addOwnTransaction(this.form).then((function(t){var n=t.data,r=(n.status,n.message);e.isLoading=!1,e.$store.commit("user",t.data.data),e.$emit("transaction-completed"),e.form=e.getClearFormObject(),e.$buefy.snackbar.open({message:r,queue:!1})})).catch((function(t){e.isLoading=!1,t.response.data.errors?e.errors=t.response.data.errors:(console.error(t.response),e.errors={_all:["An error occurred"]}),c()(e.errors,(function(t){e.$buefy.toast.open({message:t[0],type:"is-danger",queue:!1})}))}))}},watch:{userAccount:function(e){this.form.account_number=e},userId:function(e){this.form.user_id=e}}},l=n("KHd+"),d=Object(l.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card-component",{attrs:{title:"Deposits",icon:"account-circle"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("b-field",{attrs:{grouped:""}},[n("b-field",{attrs:{expanded:"",label:"Your Account *",message:e.formAccountNumberMessage,type:e.formAccountNumberType}},[n("b-input",{attrs:{max:"10",name:"account_number",required:"",readonly:e.readonly},model:{value:e.form.account_number,callback:function(t){e.$set(e.form,"account_number",t)},expression:"form.account_number"}})],1),e._v(" "),n("b-field",{attrs:{expanded:"",label:"Deposit Amount *",message:e.formAmountMessage,type:e.formAmountType}},[n("b-input",{attrs:{min:"1",name:"amount",type:"number",required:""},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),e._v(" "),n("b-field",{attrs:{expanded:"",label:"Comment *",message:e.formCommentMessage,type:e.formCommentType}},[n("b-input",{attrs:{max:"15",name:"comment",required:""},model:{value:e.form.debtor_comment,callback:function(t){e.$set(e.form,"debtor_comment",t)},expression:"form.debtor_comment"}})],1)],1),e._v(" "),n("hr"),e._v(" "),n("b-field",{attrs:{expanded:""}},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-success",class:{"is-loading":e.isLoading},attrs:{type:"submit"}},[e._v("\n          Submit\n        ")])])])],1)])}),[],!1,null,null,null).exports;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"OwnTransfers",components:{transactions:o.a,CardComponent:a.a,OwnDepositForm:d},data:function(){return{isLoading:!1,paginated:!1,perPage:10,transactions:[],columns:[{field:"from_account",label:"Account Number",searchable:"searchable"},{field:"amount",label:"Deopsit Amount",searchable:"searchable"},{field:"debtor_comment",label:"Debtor Comment",searchable:"searchable"},{field:"type",label:"Type",searchable:"searchable"},{field:"created",label:"Debited Date",searchable:"searchable"}]}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)(["userId","userAccount"])),created:function(){this.getUserOwnTransactions()},mounted:function(){},methods:{getUserOwnTransactions:function(){var e=this;this.isLoading=!0,o.a.getOwnTransactionLogs().then((function(t){e.isLoading=!1,t.data&&t.data.data&&(t.data.data.length>e.perPage&&(e.paginated=!0),e.transactions=t.data.data)})).catch((function(t){e.isLoading=!1,e.$buefy.toast.open({message:"Error: ".concat(t.message),type:"is-danger"})}))}},watch:{userAccount:function(e){e&&this.getUserOwnTransactions()}}},g=Object(l.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section is-main-section"},[n("own-deposit-form",{staticClass:"tile is-child",on:{"transaction-completed":e.getUserOwnTransactions}}),e._v(" "),n("card-component",{staticClass:"tile is-child",attrs:{title:"Credit History",icon:"account"}},[n("b-table",{attrs:{data:e.transactions,"per-page":e.perPage,loading:e.isLoading,columns:e.columns,striped:!0,hoverable:!0,paginated:e.paginated}},[n("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[e.isLoading?[n("p",[n("b-icon",{attrs:{icon:"dots-horizontal",size:"is-large"}})],1),e._v(" "),n("p",[e._v("Fetching data...")])]:[n("p",[n("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),e._v(" "),n("p",[e._v("Nothing's hereâ€¦")])]],2)])])],1)],1)}),[],!1,null,null,null);t.default=g.exports},xkGU:function(e,t,n){e.exports=n("bNQv")}}]);